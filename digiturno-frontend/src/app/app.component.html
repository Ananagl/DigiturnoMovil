<ion-app>
  <!-- Pantalla de carga mientras se verifica la conexión -->
  <div *ngIf="isCheckingConnection" class="loading-screen">
    <ion-content class="ion-padding">
      <div class="loading-container">
        <ion-spinner name="crescent"></ion-spinner>
        <ion-text color="medium">
          <h2>Conectando al servidor...</h2>
          <p>Verificando disponibilidad del sistema</p>
          <p class="loading-details">Esto puede tomar unos segundos</p>
        </ion-text>
      </div>
    </ion-content>
  </div>

  <!-- Pantalla de error si el servidor no está disponible -->
  <div *ngIf="connectionError && !isCheckingConnection" class="error-screen">
    <ion-content class="ion-padding">
      <div class="error-container">
        <ion-text color="danger">
          <h2>Error de conexión</h2>
          <p>No se pudo conectar al servidor. Verifica tu conexión a internet o contacta al administrador.</p>
        </ion-text>
        
        <!-- Logs de debug -->
        <div class="debug-logs">
          <h3>📋 Logs de Debug:</h3>
          <div class="logs-container">
            <div *ngFor="let log of debugLogs" class="log-entry">
              {{ log }}
            </div>
          </div>
          <ion-button size="small" fill="outline" (click)="clearLogs()">
            <ion-icon name="trash-outline" slot="start"></ion-icon>
            Limpiar Logs
          </ion-button>
        </div>
        
        <ion-button expand="block" (click)="retryConnection()">
          Reintentar conexión
        </ion-button>
      </div>
    </ion-content>
  </div>

  <!-- Contenido normal de la app si el servidor está disponible -->
  <router-outlet *ngIf="isServerAvailable && !isCheckingConnection"></router-outlet>
</ion-app>
